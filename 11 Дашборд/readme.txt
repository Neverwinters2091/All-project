Инструкция запуска дашборда: "Анализ взаимодействия пользователей с карточками Яндекс.Дзен"
===========================================================================================

 - zen_pipline.py - скрипт пайплана
 - zen_dashboard.py - скрипт запуска дашборда
 - zen.dump - бэкап-файла карточек Zen в PostgreSQL
 - requriments.txt - список библиотек
 - link_on_tableau_project -ссылка на дашборд в Taиbleau 

БИБЛИОТЕКИ
------------

Список необходимых библиотек находится в файле requirements.txt


ЗАПУСК СКРИПТА ПАЙПЛАЙНА
------------------------

1) Скопируйте папку zen_dashboard в папку своего пользователя

2) Запустите консоль командной строки

   - В Windows это powershell
   - В операционных системах семейства Linux это bash

3) В консоле перейдите в папку с проектом zen_dashboard
   
   cd C:\Users\ИМЯ_ВАШЕГО_ПОЛЬЗОВАТЕЛЯ\zen_dashboard\   (Windows)
   cd /home/ИМЯ_ВАШЕГО_ПОЛЬЗОВАТЕЛЯ/zen_dashboard/      (Linux)

4) Запустите скрипт zen_pipeline.py в необходимиом временном интервале выполнив команду
   и дождитесь надписи "All done."

   python3 zen_pipeline.py --start_dt='2019-09-24 18:00:00' --end_dt='2019-09-24 19:00:00'
   
   где --start_dt='2019-09-24 18:00:00' - параметр начала событий
       --end_dt='2019-09-24 19:00:00' - параметр окончания событий


ЗАПУСК СКРИПТА ДАШБОРДА
-----------------------

1) Запустите скрипт zen_dashboard.py выполнив команду
   
   python3 zen_dashboard.py 

2) Откройте браузер и перейдите по ссылке
   
   http://127.0.0.1:8050/

ВОССТАНОВЛЕНИЕ БАЗЫ ИЗ РЕЗЕРВНОЙ КОПИИ
--------------------------------------

1. Восстанавливаем базу из резервной копии:
переносим файл дампа в папку /tmp, которая доступна всем пользователям:
cd /ПУТЬ_К_ПАПКЕ_С_ФАЙЛОМ/zen.dump /tmp

2. Восстанавливаем данные базы из дампа (при условии, что БД уже существует):
pg_restore -d zen /tmp/zen.dump

